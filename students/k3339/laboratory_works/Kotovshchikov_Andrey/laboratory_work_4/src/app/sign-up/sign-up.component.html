<div class="container m-auto">
  <h2 class="text-[32px] text-center mb-10">Регистрация</h2>
  <form
    [formGroup]="form"
    (ngSubmit)="submit($event)"
    class="flex flex-col gap-5 px-64"
  >
    <div>
      <label for="first_name">Имя</label>
      <input
        formControlName="firstName"
        id="first_name"
        class="w-full border border-solid border-black p-3"
        type="text"
      />

      <div
        *ngIf="
          firstNameControl.invalid &&
          (firstNameControl.dirty || firstNameControl.touched)
        "
        class="text-red-500"
      >
        <p *ngIf="firstNameControl.errors?.['required']">Введите имя</p>
        <p *ngIf="firstNameControl.errors?.['maxlength']">
          Слишком длинное имя
        </p>
      </div>
    </div>

    <div>
      <label for="last_name">Фамилия</label>
      <input
        formControlName="lastName"
        id="last_name"
        class="w-full border border-solid border-black p-3"
        type="text"
      />
      <div
        *ngIf="
          lastNameControl.invalid &&
          (lastNameControl.dirty || lastNameControl.touched)
        "
        class="text-red-500"
      >
        <p *ngIf="lastNameControl.errors?.['required']">Введите фамилию</p>
        <p *ngIf="lastNameControl.errors?.['maxlength']">
          Слишком длинная фамилия
        </p>
      </div>
    </div>

    <div>
      <label for="email">Email</label>
      <input
        formControlName="email"
        id="email"
        class="w-full border border-solid border-black p-3"
        type="email"
      />

      <div
        *ngIf="
          emailControl.invalid && (emailControl.dirty || emailControl.touched)
        "
        class="text-red-500"
      >
        <p *ngIf="emailControl.errors?.['required']">Введите email</p>
        <p *ngIf="emailControl.errors?.['maxlength']">Слишком длинный email</p>
        <p *ngIf="emailControl.errors?.['email']">Некорректный email</p>
      </div>
    </div>

    <div>
      <label for="password">Пароль</label>
      <input
        formControlName="password"
        id="password"
        class="w-full border border-solid border-black p-3"
        type="password"
      />

      <div
        *ngIf="
          passwordControl.invalid &&
          (passwordControl.dirty || passwordControl.touched)
        "
        class="text-red-500"
      >
        <p *ngIf="passwordControl.errors?.['required']">Введите пароль</p>
        <p
          *ngIf="passwordControl.errors?.['minlength'] || passwordControl.errors?.['maxlength']"
        >
          Пароль должен состоять из 8-100 символов
        </p>
      </div>
    </div>

    <button
      [disabled]="form.invalid"
      class="p-4 self-center bg-sky-300 rounded-lg text-[18px] font-medium text-white hover:bg-sky-400 transition-all cursor-pointer"
    >
      Зарегистрироваться
    </button>

    <p class="text-red-500 text-center">
      {{ errorMessage() }}
    </p>

    <div
      *ngIf="isLoading()"
      class="self-center animate-spin inline-block size-8 border-[3px] border-current border-t-transparent text-blue-600 rounded-full dark:text-blue-500"
      role="status"
      aria-label="loading"
    >
      <span class="sr-only">Загрузка...</span>
    </div>
  </form>
</div>
